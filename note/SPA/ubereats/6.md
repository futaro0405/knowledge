
```js:src/containers/Restaurants.jsx
import { Link } from "react-router-dom";
// components
import Skeleton from '@material-ui/lab/Skeleton';
// styled-componentsのスタイリング部分
const RestaurantsContentsList = styled.div`
  display: flex;
  justify-content: space-around;
  margin-bottom: 150px;
`;
const RestaurantsContentWrapper = styled.div`
  width: 450px;
  height: 300px;
  padding: 48px;
`;
const RestaurantsImageNode = styled.img`
  width: 100%;
`;
const MainText = styled.p`
  color: black;
  font-size: 18px;
`;
const SubText = styled.p`
  color: black;
  font-size: 12px;
`;
<RestaurantsContentsList>
  {
    state.fetchState === REQUEST_STATE.LOADING ?
      <Fragment>
        <Skeleton variant="rect" width={450} height={300} />
        <Skeleton variant="rect" width={450} height={300} />
        <Skeleton variant="rect" width={450} height={300} />
      </Fragment>
    :
      state.restaurantsList.map((item, index) =>
        <Link to={`/restaurants/${item.id}/foods`} key={index} style={{ textDecoration: 'none' }}>
          <RestaurantsContentWrapper>
            <RestaurantsImageNode src={RestaurantImage} />
            <MainText>{item.name}</MainText>
            <SubText>{`配送料：${item.fee}円 ${item.time_required}分`}</SubText>
          </RestaurantsContentWrapper>
        </Link>
      )
  }
</RestaurantsContentsList>
```

#### Linkについて
React Routerの`<Link>`について。
React Routerにおけるルーティングは通常のリンク(`<a href="...">`)とは異なり、`<Link to="...">`というかたちで表される。
最終的には`<a>`タグが生成されるという点では同じ。

例えば今回のように
- 現在のURL：`/restaurants`
- 遷移先URL：`/restaurants/1/foods`
としたい場合に、
```js
<Link to={`/restaurants/1/foods`}>
```
とすることで、
```js
<a href="restaurants/1/foods">
```
となるわけです。
クエリストリングを付けることも可能で、以下のようなpropsを渡すことで対応した`<a>`に変換する。
```js
<Link
  to={{
    pathname: "/courses",
    search: "?sort=name",
    hash: "#the-hash"
  }}
/>
```
#### Skeltonコンポーネントについて
Material UIというUIライブラリのコンポーネント。
「ロード状態」を表すUIパーツ。
## フード一覧のAPIを叩く
```js:src/apis/foods.js
import axios from 'axios';
import { foodsIndex } from '../urls/index'

export const fetchFoods =(restaurantId) => {
  return axios.get(foodsIndex(restaurantId))
  .then(res => {
    return res.data
  })
  .catch((e) => console.error(e))
}
```

```js
import { Fragment, useEffect } from 'react';

import { fetchFoods } from '../apis/foods';

export const Foods = () => {
  useEffect(() => {
    fetchFoods(1)
    .then((data) =>
      console.log(data)
    )
  }, [])
  return (
    <Fragment>
      フード一覧
    </Fragment>
  )
}
```

## APIのデータをreducerを通して画面に表示する
### src/reducers/foods.js

```js:src/reducers/foods.js
import { REQUEST_STATE } from '../constants';

export const initialState = {
  fetchState: REQUEST_STATE.INITIAL,
  foodsList: [],
};

export const foodsActionTyps = {
  FETCHING: 'FETCHING',
  FETCH_SUCCESS: 'FETCH_SUCCESS'
}

export const foodsReducer = (state, action) => {
  switch (action.type) {
    case foodsActionTyps.FETCHING:
      return {
        ...state,
        fetchState: REQUEST_STATE.LOADING,
      };
    case foodsActionTyps.FETCH_SUCCESS:
      return {
        fetchState: REQUEST_STATE.OK,
        foodsList: action.payload.foods,
      };
    default:
      throw new Error();
  }
}
```

