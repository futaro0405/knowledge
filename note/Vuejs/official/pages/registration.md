# コンポーネントの登録
Vue.jsでコンポーネントを使うときは、そのコンポーネントがどこで使われるかをVueに知らせる必要があります。これを「登録」と呼びます。
登録方法には「グローバル登録」と「ローカル登録」の2種類があります。

## グローバル登録
アプリ全体でコンポーネントを使えるようにする方法です。
以下のコードのように、`.component()`メソッドを使います。

```js
import { createApp } from 'vue'

const app = createApp({})

app.component(
  // コンポーネントの登録名
  'MyComponent',
  // コンポーネントの実装
  {
    /* ... */
  }
)
```

もしシングルファイルコンポーネント（SFC）を使っている場合は、`.vue`ファイルをインポートして登録します。
```js
import MyComponent from './App.vue'

app.component('MyComponent', MyComponent)
```

さらに、複数のコンポーネントを一度に登録することもできます。
```js
app
  .component('ComponentA', ComponentA)
  .component('ComponentB', ComponentB)
  .component('ComponentC', ComponentC)
```

これらのグローバルに登録されたコンポーネントは、アプリケーションのどこでも使うことができます。
```html
<template>
  <!-- どのコンポーネントでもこのコンポーネントが使えます -->
  <ComponentA/>
  <ComponentB/>
  <ComponentC/>
</template>
```
この仕組みによって、サブコンポーネント（他のコンポーネントの内部で使用されるコンポーネント）でもグローバルに登録されたコンポーネントが使えるようになります。
つまり、上記の`ComponentA`、`ComponentB`、`ComponentC`は、アプリ内のどのコンポーネントでも使用できます。
## ローカル登録
グローバル登録は便利ですが、以下のような欠点があります。
### 未使用のコンポーネントがバンドルに含まれる
グローバル登録されたコンポーネントは、アプリ内で実際に使用されていなくても最終的なバンドルに含まれてしまいます。
これにより、ビルドシステムの「ツリーシェイク」処理が妨げられ、未使用のコンポーネントが自動的に削除されないことがあります。
### 依存関係の不透明化
グローバル登録では、どのコンポーネントがどのコンポーネントに依存しているかが分かりにくくなります。
これは、長期的なメンテナンス性に悪影響を与える可能性があります。

これらの問題を解決するために、 __ローカル登録__ を使用することが推奨されます。
ローカル登録では、コンポーネントはそのコンポーネントが定義された場所でのみ使用できます。
これにより、依存関係が明確になり、ツリーシェイクの効果も向上します。
#### ローカル登録の方法
シングルファイルコンポーネント（SFC）を使っている場合、`<script setup>`を利用すると、インポートしたコンポーネントをローカルで使えるようになります。

```vue
<script setup>
import ComponentA from './ComponentA.vue'
</script>

<template>
  <ComponentA />
</template>
```

`<script setup>`を使わない場合は、`components`オプションを使って登録します。

```js
import ComponentA from './ComponentA.js'

export default {
  components: {
    ComponentA
  },
  setup() {
    // ...
  }
}
```

`components`オブジェクトのプロパティは、キーがコンポーネントの名前で、値がそのコンポーネントの実装です。
この例ではES2015のプロパティ省略記法を使用しており、次の書き方と同じ意味です。

```js
export default {
  components: {
    ComponentA: ComponentA
  }
  // ...
}
```

ただし、ローカル登録されたコンポーネントは、そのコンポーネントが定義された場所でのみ利用可能であり、その子孫のコンポーネントでは使用できないことに注意が必要です。
上記の例では、`ComponentA`は現在のコンポーネント内でのみ使用可能であり、その子や孫のコンポーネントでは使用できません。

## コンポーネント名の大文字・小文字の使い方
Vue.jsでは、コンポーネントを登録する際にPascalCaseの名前を使うことが推奨されています。
PascalCaseとは、各単語の頭文字を大文字にし、単語を連結したスタイルです。
例えば、`MyComponent`という名前です。
### PascalCaseを使う理由
#### JavaScriptでの扱いやすさ
PascalCaseの名前は、JavaScriptの識別子として有効です。
これにより、JavaScriptコード内でコンポーネントをインポートしたり登録したりするのが簡単になります。
また、IDEのオートコンプリート機能も働きやすくなります。
#### テンプレートでの区別
テンプレート内で`<PascalCase />`のように書くと、それがネイティブのHTML要素ではなく、Vueのコンポーネントであることが明確になります。
これにより、Vueコンポーネントとカスタム要素（Webコンポーネント）を区別することができます。

PascalCaseは、シングルファイルコンポーネント（SFC）や文字列テンプレートを使用する際に推奨されるスタイルです。
ただし、DOM内テンプレートを使う場合には、PascalCaseのタグを使うことができません。
幸いなことに、VuejsはPascalCaseで登録されたコンポーネントをkebab-case形式（すべて小文字で単語の区切りにハイフンを使う形式）に変換することをサポートしています。
これにより、`MyComponent`として登録したコンポーネントは、テンプレート内で`<MyComponent>`または`<my-component>`のどちらでも使用できます。

この仕組みにより、テンプレートの記述方法に関わらず、JavaScriptコード内でのコンポーネント登録方法を統一できます。
