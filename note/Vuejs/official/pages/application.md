# Vueアプリケーションの作成
## アプリケーションのインスタンス
Vueアプリケーションは`createApp` 関数で新しいアプリケーションのインスタンスを作成することができる。
`createApp` に渡すオブジェクトはコンポーネントを渡す。
```js
import { createApp } from 'vue'
// ルートコンポーネントを単一ファイルコンポーネントからインポートする
import App from './App.vue'

const app = createApp(App)
```
## アプリのマウント
アプリケーションのインスタンスは`.mount()`メソッドが呼ばれるまでレンダリングを行わない。
インスタンスにはコンテナ引数というDOM要素、セレクタ文字列（ `#app` ）が必要

```HTML:DOM
<div id="app"></div>
```

```js:
app.mount('#app')
```

アプリのルートコンポーネントのコンテンツはコンテナ要素の中でレンダリングされる。
コンテナ要素自体はアプリの要素としてみなされない。
この `mount()` メソッドはすべてのアプリの設定やアセットの登録が完了した後、常に呼ばれる必要がある。
アセット登録をするメソッドとは異なり、返り値はアプリケーションのインスタンスではなく、ルートコンポーネントインスタンスであるということに注意。

### DOM内のルートコンポーネントテンプレート
通常、ルートコンポーネントのテンプレートはコンポーネント自体の一部だが、マウントコンテナ内に直接記述することで、テンプレートを別途提供することができる。

```html
<div id="app">
  <button @click="count++">{{ count }}</button>
</div>
```

```js
import { createApp } from 'vue'

const app = createApp({
  data() {
    return {
      count: 0
    }
  }
})

app.mount('#app')
```

もしルートコンポーネントに `template` オプションがすでにない場合、自動的にコンテナの `innerHTML` をテンプレートとして使用する。
DOM内テンプレートはビルドステップなしのアプリケーションでよく使われる。
ルートテンプレートがサーバーによって動的に生成される、サーバーサイドフレームワークと組み合わせて使用することができる。

## アプリの設定
アプリケーションのインスタンスは `.config` オブジェクトを公開し、いくつかのアプリケーションレベルのオプションを設定することができる。
例えば、すべての子孫コンポーネントから発生したエラーを捕捉するアプリケーションレベルのエラーハンドラを定義することができる。

```js
app.config.errorHandler = (err) => {
  /* エラーの制御 */
}
```

アプリケーションのインスタンスはasset登録を行うメソッドも用意している。

```js
app.component('TodoDeleteButton', TodoDeleteButton)
```

この例はこのアプリケーション内ならどこでもTodoDeleteButtonを使用できるようにするメソッド。

アプリがマウントされる前にこれらの設定が適用されていることを確認しましょう。

## 複数のアプリケーションインスタンス
Vueではひとつのページに複数のアプリケーションを共存させることが可能です。

```js
const app1 = createApp({/*...*/})
app1.mount('#container1')

const app2 = createApp({/*...*/})
app2.mount('#container2')
```

