# KeepAlive
`<KeepAlive>` は、Vue.jsで提供されている特別なビルトインコンポーネントです。
これは、動的に切り替えられる複数のコンポーネントのインスタンスを一時的に保存（キャッシュ）するために使用します。
キャッシュを使うことで、コンポーネントを切り替えたときに以前の状態を保持することができます。
## 基本的な使い方
「コンポーネントの基礎」の章で紹介された `<component>` という特別な要素を使うことで、動的にコンポーネントを切り替えることができます。
例えば以下のように使用します。

```vue
<template>
  <component :is="activeComponent" />
</template>
```

デフォルトでは、アクティブなコンポーネントが別のコンポーネントに切り替えられると、そのインスタンスはアンマウント（削除）されます。
これにより、コンポーネントの状態（例えば入力フォームの内容やカウンターの値）が失われてしまいます。
そして、再度そのコンポーネントを表示するときには、新しいインスタンスが初期状態で作成されます。

例えば、ステートフルな（状態を持つ）2つのコンポーネントがあるとします。
コンポーネントAにはカウンターがあり、コンポーネントBには `v-model` を使ってメッセージが同期される入力フィールドがあります。
これらのコンポーネント間で状態を変更して切り替えた後、もう一度元のコンポーネントに戻ってみてください。

このように、`<KeepAlive>` を使用すると、コンポーネントがアンマウントされず、以前の状態が保持されるため、再度表示したときにも前の状態が維持されます。

## Include / Exclude
デフォルトでは、`<KeepAlive>` はすべてのコンポーネントをキャッシュします。
しかし、`include` と `exclude` という特別なプロパティを使って、どのコンポーネントをキャッシュするかを選ぶことができます。
このプロパティにはカンマで区切った文字列、正規表現、またはこれらを含む配列を指定することができます。

```html
<template>
  <!-- カンマで区切った文字列 -->
  <KeepAlive include="a,b">
    <component :is="view" />
  </KeepAlive>

  <!-- 正規表現（v-bindを使う）-->
  <KeepAlive :include="/a|b/">
    <component :is="view" />
  </KeepAlive>

  <!-- 配列（v-bindを使う）-->
  <KeepAlive :include="['a', 'b']">
    <component :is="view" />
  </KeepAlive>
</template>
```

これらの設定は、コンポーネントの `name` オプションに基づいてチェックされるため、キャッシュしたいコンポーネントには `name` オプションを設定する必要があります。

#### TIPS
バージョン 3.2.34 以降では、`<script setup>` を使った単一ファイルコンポーネントは、ファイル名から自動的に `name` オプションを推測するため、手動で名前を設定する必要はありません。