# コンポーネントの登録
Vue.jsでコンポーネントを使うときは、そのコンポーネントがどこで使われるかをVueに知らせる必要があります。これを「登録」と呼びます。
登録方法には「グローバル登録」と「ローカル登録」の2種類があります。

## グローバル登録
アプリ全体でコンポーネントを使えるようにする方法です。
以下のコードのように、`.component()`メソッドを使います。

```js
import { createApp } from 'vue'

const app = createApp({})

app.component(
  // コンポーネントの登録名
  'MyComponent',
  // コンポーネントの実装
  {
    /* ... */
  }
)
```

もしシングルファイルコンポーネント（SFC）を使っている場合は、`.vue`ファイルをインポートして登録します。
```js
import MyComponent from './App.vue'

app.component('MyComponent', MyComponent)
```

さらに、複数のコンポーネントを一度に登録することもできます。
```js
app
  .component('ComponentA', ComponentA)
  .component('ComponentB', ComponentB)
  .component('ComponentC', ComponentC)
```

これらのグローバルに登録されたコンポーネントは、アプリケーションのどこでも使うことができます。
```html
<template>
  <!-- どのコンポーネントでもこのコンポーネントが使えます -->
  <ComponentA/>
  <ComponentB/>
  <ComponentC/>
</template>
```
この仕組みによって、サブコンポーネント（他のコンポーネントの内部で使用されるコンポーネント）でもグローバルに登録されたコンポーネントが使えるようになります。
つまり、上記の`ComponentA`、`ComponentB`、`ComponentC`は、アプリ内のどのコンポーネントでも使用できます。
## ローカル登録
グローバル登録は便利ですが、以下のような欠点があります。
### 未使用のコンポーネントがバンドルに含まれる
グローバル登録されたコンポーネントは、アプリ内で実際に使用されていなくても最終的なバンドルに含まれてしまいます。
これにより、ビルドシステムの「ツリーシェイク」処理が妨げられ、未使用のコンポーネントが自動的に削除されないことがあります。
### 依存関係の不透明化
グローバル登録では、どのコンポーネントがどのコンポーネントに依存しているかが分かりにくくなります。
これは、長期的なメンテナンス性に悪影響を与える可能性があります。

これらの問題を解決するために、 __ローカル登録__ を使用することが推奨されます。
ローカル登録では、コンポーネントはそのコンポーネントが定義された場所でのみ使用できます。
これにより、依存関係が明確になり、ツリーシェイクの効果も向上します。
#### ローカル登録の方法
シングルファイルコンポーネント（SFC）を使っている場合、`<script setup>`を利用すると、インポートしたコンポーネントをローカルで使えるようになります。

```vue
<script setup>
import ComponentA from './ComponentA.vue'
</script>

<template>
  <ComponentA />
</template>
```

`<script setup>`を使わない場合は、`components`オプションを使って登録します。

```js
import ComponentA from './ComponentA.js'

export default {
  components: {
    ComponentA
  },
  setup() {
    // ...
  }
}
```

`components`オブジェクトのプロパティは、キーがコンポーネントの名前で、値がそのコンポーネントの実装です。
この例ではES2015のプロパティ省略記法を使用しており、次の書き方と同じ意味です。

```js
export default {
  components: {
    ComponentA: ComponentA
  }
  // ...
}
```

ただし、ローカル登録されたコンポーネントは、そのコンポーネントが定義された場所でのみ利用可能であり、その子孫のコンポーネントでは使用できないことに注意が必要です。
上記の例では、`ComponentA`は現在のコンポーネント内でのみ使用可能であり、その子や孫のコンポーネントでは使用できません。
