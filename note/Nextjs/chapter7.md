# データの取得
データベースを作成し、シードしたので、アプリケーションのデータを取得するさまざまな方法について議論し、ダッシュボードの概要ページを構築しましょう。  

この章では以下のトピックを扱います。  

1. データ取得のアプローチについて学ぶ：API、ORM、SQLなど
2. サーバーコンポーネントがバックエンドリソースにより安全にアクセスするのに役立つ方法
3. ネットワークウォーターフォールとは何か
4. JavaScriptパターンを使用して並列データ取得を実装する方法

# データ取得方法の選択
**APIレイヤー** APIはアプリケーションコードとデータベースの間の中間層です。  
APIを使用する場合がいくつかあります。  

- APIを提供するサードパーティサービスを使用している場合。
- クライアントからデータを取得する際、データベースのシークレットをクライアントに公開しないように、サーバー上で実行されるAPIレイヤーが必要な場合。

Next.jsでは、[Route Handlers](https://nextjs.org/docs/app/building-your-application/routing/route-handlers)を使用してAPIエンドポイントを作成できます。  

**データベースクエリ** フルスタックアプリケーションを作成する場合、データベースと対話するためのロジックを書く必要もあります。Postgresのようなリレーショナルデータベースの場合、SQLやORMを使用してこれを行うことができます。

データベースクエリを書く必要がある場合がいくつかあります：

- APIエンドポイントを作成する際、データベースと対話するためのロジックを書く必要があります。
- React Server Components（サーバー上でデータを取得）を使用している場合、APIレイヤーをスキップし、データベースのシークレットをクライアントに公開するリスクなしに直接データベースにクエリを行うことができます。

クイズの時間です！ 知識をテストし、学んだことを確認しましょう。

以下のシナリオのうち、データベースに直接クエリを行うべきでないのはどれですか？

A：クライアント上でデータを取得している場合 B：サーバー上でデータを取得している場合 C：データベースと対話するための独自のAPIレイヤーを作成している場合

正解は A：クライアント上でデータを取得している場合 です。

React Server Componentsについてさらに学びましょう。