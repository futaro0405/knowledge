# Gitによるバージョン管理
## バージョンを管理するとは
プログラムは次々にアップデートされていく中でこのようなことがしたい。
- バージョンの差を知りたい
- 昔のバージョンに戻りたい
- 複数の並行するバージョンを扱いたい

フォルダ名で管理しようとしてよく破綻している。

## VCS:Version Control System
- ローカルのバージョン管理
  - ディレクトリのコピー
  - RCS(Revision Control System)
- 中央集中型のバージョン管理
  - CVS(Concurrent Version System)
  - SVN(subversion)
  - Azure DevOps Server(VSSの後継)
- 文さん型のバージョン管理
  - Git
  - Mercurial

## 中央集中型と分散型
### 中央集中型
中央サーバー上のリポジトリに対して、ソースコードの登録、取得をする。
常にオンラインでなければならない。
### 分散型
中央サーバー上のリポジトリを個人マシンのリポジトリと同期させる。

| 特徴 | 中央集中型 | 分散型 |
|:---|:---|:---|
|更新の登録、取得|オンライン|オフライン/オンライン|
|リポジトリ|1つ|複数|
|リポジトリの複製|-|オフライン/オンライン|
|競合回避|マージ/ロック|マージ|

## Git
- Linuxカーネル開発のためにリーナスが開発した。
- 分散型バージョン管理
- GitHub、GitLab、Bitbucket等のエコシステム

### コミット履歴を確認
- git log

- git lig --graph --all
  - `--graph`：グラフ構造で表示
  - `--all`；すべてのブランチ

- ワークツリー
  - 現在作業中のディレクトリ
- インデックス
  - コミットのステージング領域
  - `git commit`の対象
  - `git add`は変更をインデックスに登録する

### 差分を見る
- `git diff`
- `git diff --cached`
  - `git diff --staged`と同じ

### 選択的git add
- `git add -p <ファイル名>`
- ハンクを選択的にaddする
